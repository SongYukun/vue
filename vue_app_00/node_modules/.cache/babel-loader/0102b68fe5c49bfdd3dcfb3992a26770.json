{"remainingRequest":"C:\\Users\\web\\Desktop\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\vue_app_00\\src\\lib\\mui\\js\\mui.zoom.js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\vue_app_00\\src\\lib\\mui\\js\\mui.zoom.js","mtime":1536566855000},{"path":"C:\\Users\\web\\Desktop\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417988},{"path":"C:\\Users\\web\\Desktop\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000}],"contextDependencies":[],"result":["(function ($, window) {\n  var CLASS_ZOOM = $.className('zoom');\n  var CLASS_ZOOM_SCROLLER = $.className('zoom-scroller');\n  var SELECTOR_ZOOM = '.' + CLASS_ZOOM;\n  var SELECTOR_ZOOM_SCROLLER = '.' + CLASS_ZOOM_SCROLLER;\n  var EVENT_PINCH_START = 'pinchstart';\n  var EVENT_PINCH = 'pinch';\n  var EVENT_PINCH_END = 'pinchend';\n\n  if ('ongesturestart' in window) {\n    EVENT_PINCH_START = 'gesturestart';\n    EVENT_PINCH = 'gesturechange';\n    EVENT_PINCH_END = 'gestureend';\n  }\n\n  $.Zoom = function (element, options) {\n    var zoom = this;\n    zoom.options = $.extend($.Zoom.defaults, options);\n    zoom.wrapper = zoom.element = element;\n    zoom.scroller = element.querySelector(SELECTOR_ZOOM_SCROLLER);\n    zoom.scrollerStyle = zoom.scroller && zoom.scroller.style;\n    zoom.zoomer = element.querySelector(SELECTOR_ZOOM);\n    zoom.zoomerStyle = zoom.zoomer && zoom.zoomer.style;\n\n    zoom.init = function () {\n      //自动启用\n      $.options.gestureConfig.pinch = true;\n      $.options.gestureConfig.doubletap = true;\n      zoom.initEvents();\n    };\n\n    zoom.initEvents = function (detach) {\n      var action = detach ? 'removeEventListener' : 'addEventListener';\n      var target = zoom.scroller;\n      target[action](EVENT_PINCH_START, zoom.onPinchstart);\n      target[action](EVENT_PINCH, zoom.onPinch);\n      target[action](EVENT_PINCH_END, zoom.onPinchend);\n      target[action]($.EVENT_START, zoom.onTouchstart);\n      target[action]($.EVENT_MOVE, zoom.onTouchMove);\n      target[action]($.EVENT_CANCEL, zoom.onTouchEnd);\n      target[action]($.EVENT_END, zoom.onTouchEnd);\n      target[action]('drag', zoom.dragEvent);\n      target[action]('doubletap', zoom.doubleTapEvent);\n    };\n\n    zoom.dragEvent = function (e) {\n      if (imageIsMoved || isGesturing) {\n        e.stopPropagation();\n      }\n    };\n\n    zoom.doubleTapEvent = function (e) {\n      zoom.toggleZoom(e.detail.center);\n    };\n\n    zoom.transition = function (style, time) {\n      time = time || 0;\n      style['webkitTransitionDuration'] = time + 'ms';\n      return zoom;\n    };\n\n    zoom.translate = function (style, x, y) {\n      x = x || 0;\n      y = y || 0;\n      style['webkitTransform'] = 'translate3d(' + x + 'px,' + y + 'px,0px)';\n      return zoom;\n    };\n\n    zoom.scale = function (style, scale) {\n      scale = scale || 1;\n      style['webkitTransform'] = 'translate3d(0,0,0) scale(' + scale + ')';\n      return zoom;\n    };\n\n    zoom.scrollerTransition = function (time) {\n      return zoom.transition(zoom.scrollerStyle, time);\n    };\n\n    zoom.scrollerTransform = function (x, y) {\n      return zoom.translate(zoom.scrollerStyle, x, y);\n    };\n\n    zoom.zoomerTransition = function (time) {\n      return zoom.transition(zoom.zoomerStyle, time);\n    };\n\n    zoom.zoomerTransform = function (scale) {\n      return zoom.scale(zoom.zoomerStyle, scale);\n    }; // Gestures\n\n\n    var scale = 1,\n        currentScale = 1,\n        isScaling = false,\n        isGesturing = false;\n\n    zoom.onPinchstart = function (e) {\n      isGesturing = true;\n    };\n\n    zoom.onPinch = function (e) {\n      if (!isScaling) {\n        zoom.zoomerTransition(0);\n        isScaling = true;\n      }\n\n      scale = (e.detail ? e.detail.scale : e.scale) * currentScale;\n\n      if (scale > zoom.options.maxZoom) {\n        scale = zoom.options.maxZoom - 1 + Math.pow(scale - zoom.options.maxZoom + 1, 0.5);\n      }\n\n      if (scale < zoom.options.minZoom) {\n        scale = zoom.options.minZoom + 1 - Math.pow(zoom.options.minZoom - scale + 1, 0.5);\n      }\n\n      zoom.zoomerTransform(scale);\n    };\n\n    zoom.onPinchend = function (e) {\n      scale = Math.max(Math.min(scale, zoom.options.maxZoom), zoom.options.minZoom);\n      zoom.zoomerTransition(zoom.options.speed).zoomerTransform(scale);\n      currentScale = scale;\n      isScaling = false;\n    };\n\n    zoom.setZoom = function (newScale) {\n      scale = currentScale = newScale;\n      zoom.scrollerTransition(zoom.options.speed).scrollerTransform(0, 0);\n      zoom.zoomerTransition(zoom.options.speed).zoomerTransform(scale);\n    };\n\n    zoom.toggleZoom = function (position, speed) {\n      if (typeof position === 'number') {\n        speed = position;\n        position = undefined;\n      }\n\n      speed = typeof speed === 'undefined' ? zoom.options.speed : speed;\n\n      if (scale && scale !== 1) {\n        scale = currentScale = 1;\n        zoom.scrollerTransition(speed).scrollerTransform(0, 0);\n      } else {\n        scale = currentScale = zoom.options.maxZoom;\n\n        if (position) {\n          var offset = $.offset(zoom.zoomer);\n          var top = offset.top;\n          var left = offset.left;\n          var offsetX = (position.x - left) * scale;\n          var offsetY = (position.y - top) * scale;\n\n          this._cal();\n\n          if (offsetX >= imageMaxX && offsetX <= imageMaxX + wrapperWidth) {\n            //center\n            offsetX = imageMaxX - offsetX + wrapperWidth / 2;\n          } else if (offsetX < imageMaxX) {\n            //left\n            offsetX = imageMaxX - offsetX + wrapperWidth / 2;\n          } else if (offsetX > imageMaxX + wrapperWidth) {\n            //right\n            offsetX = imageMaxX + wrapperWidth - offsetX - wrapperWidth / 2;\n          }\n\n          if (offsetY >= imageMaxY && offsetY <= imageMaxY + wrapperHeight) {\n            //middle\n            offsetY = imageMaxY - offsetY + wrapperHeight / 2;\n          } else if (offsetY < imageMaxY) {\n            //top\n            offsetY = imageMaxY - offsetY + wrapperHeight / 2;\n          } else if (offsetY > imageMaxY + wrapperHeight) {\n            //bottom\n            offsetY = imageMaxY + wrapperHeight - offsetY - wrapperHeight / 2;\n          }\n\n          offsetX = Math.min(Math.max(offsetX, imageMinX), imageMaxX);\n          offsetY = Math.min(Math.max(offsetY, imageMinY), imageMaxY);\n          zoom.scrollerTransition(speed).scrollerTransform(offsetX, offsetY);\n        } else {\n          zoom.scrollerTransition(speed).scrollerTransform(0, 0);\n        }\n      }\n\n      zoom.zoomerTransition(speed).zoomerTransform(scale);\n    };\n\n    zoom._cal = function () {\n      wrapperWidth = zoom.wrapper.offsetWidth;\n      wrapperHeight = zoom.wrapper.offsetHeight;\n      imageWidth = zoom.zoomer.offsetWidth;\n      imageHeight = zoom.zoomer.offsetHeight;\n      var scaledWidth = imageWidth * scale;\n      var scaledHeight = imageHeight * scale;\n      imageMinX = Math.min(wrapperWidth / 2 - scaledWidth / 2, 0);\n      imageMaxX = -imageMinX;\n      imageMinY = Math.min(wrapperHeight / 2 - scaledHeight / 2, 0);\n      imageMaxY = -imageMinY;\n    };\n\n    var wrapperWidth,\n        wrapperHeight,\n        imageIsTouched,\n        imageIsMoved,\n        imageCurrentX,\n        imageCurrentY,\n        imageMinX,\n        imageMinY,\n        imageMaxX,\n        imageMaxY,\n        imageWidth,\n        imageHeight,\n        imageTouchesStart = {},\n        imageTouchesCurrent = {},\n        imageStartX,\n        imageStartY,\n        velocityPrevPositionX,\n        velocityPrevTime,\n        velocityX,\n        velocityPrevPositionY,\n        velocityY;\n\n    zoom.onTouchstart = function (e) {\n      e.preventDefault();\n      imageIsTouched = true;\n      imageTouchesStart.x = e.type === $.EVENT_START ? e.targetTouches[0].pageX : e.pageX;\n      imageTouchesStart.y = e.type === $.EVENT_START ? e.targetTouches[0].pageY : e.pageY;\n    };\n\n    zoom.onTouchMove = function (e) {\n      e.preventDefault();\n      if (!imageIsTouched) return;\n\n      if (!imageIsMoved) {\n        wrapperWidth = zoom.wrapper.offsetWidth;\n        wrapperHeight = zoom.wrapper.offsetHeight;\n        imageWidth = zoom.zoomer.offsetWidth;\n        imageHeight = zoom.zoomer.offsetHeight;\n        var translate = $.parseTranslateMatrix($.getStyles(zoom.scroller, 'webkitTransform'));\n        imageStartX = translate.x || 0;\n        imageStartY = translate.y || 0;\n        zoom.scrollerTransition(0);\n      }\n\n      var scaledWidth = imageWidth * scale;\n      var scaledHeight = imageHeight * scale;\n      if (scaledWidth < wrapperWidth && scaledHeight < wrapperHeight) return;\n      imageMinX = Math.min(wrapperWidth / 2 - scaledWidth / 2, 0);\n      imageMaxX = -imageMinX;\n      imageMinY = Math.min(wrapperHeight / 2 - scaledHeight / 2, 0);\n      imageMaxY = -imageMinY;\n      imageTouchesCurrent.x = e.type === $.EVENT_MOVE ? e.targetTouches[0].pageX : e.pageX;\n      imageTouchesCurrent.y = e.type === $.EVENT_MOVE ? e.targetTouches[0].pageY : e.pageY;\n\n      if (!imageIsMoved && !isScaling) {\n        //\t\t\t\tif (Math.abs(imageTouchesCurrent.y - imageTouchesStart.y) < Math.abs(imageTouchesCurrent.x - imageTouchesStart.x)) {\n        //TODO 此处需要优化，当遇到长图，需要上下滚动时，下列判断会导致滚动不流畅\n        if (Math.floor(imageMinX) === Math.floor(imageStartX) && imageTouchesCurrent.x < imageTouchesStart.x || Math.floor(imageMaxX) === Math.floor(imageStartX) && imageTouchesCurrent.x > imageTouchesStart.x) {\n          imageIsTouched = false;\n          return;\n        } //\t\t\t\t}\n\n      }\n\n      imageIsMoved = true;\n      imageCurrentX = imageTouchesCurrent.x - imageTouchesStart.x + imageStartX;\n      imageCurrentY = imageTouchesCurrent.y - imageTouchesStart.y + imageStartY;\n\n      if (imageCurrentX < imageMinX) {\n        imageCurrentX = imageMinX + 1 - Math.pow(imageMinX - imageCurrentX + 1, 0.8);\n      }\n\n      if (imageCurrentX > imageMaxX) {\n        imageCurrentX = imageMaxX - 1 + Math.pow(imageCurrentX - imageMaxX + 1, 0.8);\n      }\n\n      if (imageCurrentY < imageMinY) {\n        imageCurrentY = imageMinY + 1 - Math.pow(imageMinY - imageCurrentY + 1, 0.8);\n      }\n\n      if (imageCurrentY > imageMaxY) {\n        imageCurrentY = imageMaxY - 1 + Math.pow(imageCurrentY - imageMaxY + 1, 0.8);\n      } //Velocity\n\n\n      if (!velocityPrevPositionX) velocityPrevPositionX = imageTouchesCurrent.x;\n      if (!velocityPrevPositionY) velocityPrevPositionY = imageTouchesCurrent.y;\n      if (!velocityPrevTime) velocityPrevTime = $.now();\n      velocityX = (imageTouchesCurrent.x - velocityPrevPositionX) / ($.now() - velocityPrevTime) / 2;\n      velocityY = (imageTouchesCurrent.y - velocityPrevPositionY) / ($.now() - velocityPrevTime) / 2;\n      if (Math.abs(imageTouchesCurrent.x - velocityPrevPositionX) < 2) velocityX = 0;\n      if (Math.abs(imageTouchesCurrent.y - velocityPrevPositionY) < 2) velocityY = 0;\n      velocityPrevPositionX = imageTouchesCurrent.x;\n      velocityPrevPositionY = imageTouchesCurrent.y;\n      velocityPrevTime = $.now();\n      zoom.scrollerTransform(imageCurrentX, imageCurrentY);\n    };\n\n    zoom.onTouchEnd = function (e) {\n      if (!e.touches.length) {\n        isGesturing = false;\n      }\n\n      if (!imageIsTouched || !imageIsMoved) {\n        imageIsTouched = false;\n        imageIsMoved = false;\n        return;\n      }\n\n      imageIsTouched = false;\n      imageIsMoved = false;\n      var momentumDurationX = 300;\n      var momentumDurationY = 300;\n      var momentumDistanceX = velocityX * momentumDurationX;\n      var newPositionX = imageCurrentX + momentumDistanceX;\n      var momentumDistanceY = velocityY * momentumDurationY;\n      var newPositionY = imageCurrentY + momentumDistanceY;\n      if (velocityX !== 0) momentumDurationX = Math.abs((newPositionX - imageCurrentX) / velocityX);\n      if (velocityY !== 0) momentumDurationY = Math.abs((newPositionY - imageCurrentY) / velocityY);\n      var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n      imageCurrentX = newPositionX;\n      imageCurrentY = newPositionY;\n      var scaledWidth = imageWidth * scale;\n      var scaledHeight = imageHeight * scale;\n      imageMinX = Math.min(wrapperWidth / 2 - scaledWidth / 2, 0);\n      imageMaxX = -imageMinX;\n      imageMinY = Math.min(wrapperHeight / 2 - scaledHeight / 2, 0);\n      imageMaxY = -imageMinY;\n      imageCurrentX = Math.max(Math.min(imageCurrentX, imageMaxX), imageMinX);\n      imageCurrentY = Math.max(Math.min(imageCurrentY, imageMaxY), imageMinY);\n      zoom.scrollerTransition(momentumDuration).scrollerTransform(imageCurrentX, imageCurrentY);\n    };\n\n    zoom.destroy = function () {\n      zoom.initEvents(true); //detach\n\n      delete $.data[zoom.wrapper.getAttribute('data-zoomer')];\n      zoom.wrapper.setAttribute('data-zoomer', '');\n    };\n\n    zoom.init();\n    return zoom;\n  };\n\n  $.Zoom.defaults = {\n    speed: 300,\n    maxZoom: 3,\n    minZoom: 1\n  };\n\n  $.fn.zoom = function (options) {\n    var zoomApis = [];\n    this.each(function () {\n      var zoomApi = null;\n      var self = this;\n      var id = self.getAttribute('data-zoomer');\n\n      if (!id) {\n        id = ++$.uuid;\n        $.data[id] = zoomApi = new $.Zoom(self, options);\n        self.setAttribute('data-zoomer', id);\n      } else {\n        zoomApi = $.data[id];\n      }\n\n      zoomApis.push(zoomApi);\n    });\n    return zoomApis.length === 1 ? zoomApis[0] : zoomApis;\n  };\n})(mui, window);",{"version":3,"sources":["src\\lib\\mui\\js\\mui.zoom.js"],"names":["$","window","CLASS_ZOOM","className","CLASS_ZOOM_SCROLLER","SELECTOR_ZOOM","SELECTOR_ZOOM_SCROLLER","EVENT_PINCH_START","EVENT_PINCH","EVENT_PINCH_END","Zoom","element","options","zoom","extend","defaults","wrapper","scroller","querySelector","scrollerStyle","style","zoomer","zoomerStyle","init","gestureConfig","pinch","doubletap","initEvents","detach","action","target","onPinchstart","onPinch","onPinchend","EVENT_START","onTouchstart","EVENT_MOVE","onTouchMove","EVENT_CANCEL","onTouchEnd","EVENT_END","dragEvent","doubleTapEvent","e","imageIsMoved","isGesturing","stopPropagation","toggleZoom","detail","center","transition","time","translate","x","y","scale","scrollerTransition","scrollerTransform","zoomerTransition","zoomerTransform","currentScale","isScaling","maxZoom","Math","pow","minZoom","max","min","speed","setZoom","newScale","position","undefined","offset","top","left","offsetX","offsetY","_cal","imageMaxX","wrapperWidth","imageMaxY","wrapperHeight","imageMinX","imageMinY","offsetWidth","offsetHeight","imageWidth","imageHeight","scaledWidth","scaledHeight","imageIsTouched","imageCurrentX","imageCurrentY","imageTouchesStart","imageTouchesCurrent","imageStartX","imageStartY","velocityPrevPositionX","velocityPrevTime","velocityX","velocityPrevPositionY","velocityY","preventDefault","type","targetTouches","pageX","pageY","parseTranslateMatrix","getStyles","floor","now","abs","touches","length","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","destroy","data","getAttribute","setAttribute","fn","zoomApis","each","zoomApi","self","id","uuid","push","mui"],"mappings":"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","sourceRoot":"C:\\Users\\web\\Desktop\\vue_app_00","sourcesContent":["(function($, window) {\n\tvar CLASS_ZOOM = $.className('zoom');\n\tvar CLASS_ZOOM_SCROLLER = $.className('zoom-scroller');\n\n\tvar SELECTOR_ZOOM = '.' + CLASS_ZOOM;\n\tvar SELECTOR_ZOOM_SCROLLER = '.' + CLASS_ZOOM_SCROLLER;\n\n\tvar EVENT_PINCH_START = 'pinchstart';\n\tvar EVENT_PINCH = 'pinch';\n\tvar EVENT_PINCH_END = 'pinchend';\n\tif ('ongesturestart' in window) {\n\t\tEVENT_PINCH_START = 'gesturestart';\n\t\tEVENT_PINCH = 'gesturechange';\n\t\tEVENT_PINCH_END = 'gestureend';\n\t}\n\t$.Zoom = function(element, options) {\n\t\tvar zoom = this;\n\n\t\tzoom.options = $.extend($.Zoom.defaults, options);\n\n\t\tzoom.wrapper = zoom.element = element;\n\t\tzoom.scroller = element.querySelector(SELECTOR_ZOOM_SCROLLER);\n\t\tzoom.scrollerStyle = zoom.scroller && zoom.scroller.style;\n\n\t\tzoom.zoomer = element.querySelector(SELECTOR_ZOOM);\n\t\tzoom.zoomerStyle = zoom.zoomer && zoom.zoomer.style;\n\n\t\tzoom.init = function() {\n\t\t\t//自动启用\n\t\t\t$.options.gestureConfig.pinch = true;\n\t\t\t$.options.gestureConfig.doubletap = true;\n\t\t\tzoom.initEvents();\n\t\t};\n\n\t\tzoom.initEvents = function(detach) {\n\t\t\tvar action = detach ? 'removeEventListener' : 'addEventListener';\n\t\t\tvar target = zoom.scroller;\n\n\t\t\ttarget[action](EVENT_PINCH_START, zoom.onPinchstart);\n\t\t\ttarget[action](EVENT_PINCH, zoom.onPinch);\n\t\t\ttarget[action](EVENT_PINCH_END, zoom.onPinchend);\n\n\t\t\ttarget[action]($.EVENT_START, zoom.onTouchstart);\n\t\t\ttarget[action]($.EVENT_MOVE, zoom.onTouchMove);\n\t\t\ttarget[action]($.EVENT_CANCEL, zoom.onTouchEnd);\n\t\t\ttarget[action]($.EVENT_END, zoom.onTouchEnd);\n\n\t\t\ttarget[action]('drag', zoom.dragEvent);\n\t\t\ttarget[action]('doubletap', zoom.doubleTapEvent);\n\t\t};\n\t\tzoom.dragEvent = function(e) {\n\t\t\tif (imageIsMoved || isGesturing) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t};\n\t\tzoom.doubleTapEvent = function(e) {\n\t\t\tzoom.toggleZoom(e.detail.center);\n\t\t};\n\t\tzoom.transition = function(style, time) {\n\t\t\ttime = time || 0;\n\t\t\tstyle['webkitTransitionDuration'] = time + 'ms';\n\t\t\treturn zoom;\n\t\t};\n\t\tzoom.translate = function(style, x, y) {\n\t\t\tx = x || 0;\n\t\t\ty = y || 0;\n\t\t\tstyle['webkitTransform'] = 'translate3d(' + x + 'px,' + y + 'px,0px)';\n\t\t\treturn zoom;\n\t\t};\n\t\tzoom.scale = function(style, scale) {\n\t\t\tscale = scale || 1;\n\t\t\tstyle['webkitTransform'] = 'translate3d(0,0,0) scale(' + scale + ')';\n\t\t\treturn zoom;\n\t\t};\n\t\tzoom.scrollerTransition = function(time) {\n\t\t\treturn zoom.transition(zoom.scrollerStyle, time);\n\t\t};\n\t\tzoom.scrollerTransform = function(x, y) {\n\t\t\treturn zoom.translate(zoom.scrollerStyle, x, y);\n\t\t};\n\t\tzoom.zoomerTransition = function(time) {\n\t\t\treturn zoom.transition(zoom.zoomerStyle, time);\n\t\t};\n\t\tzoom.zoomerTransform = function(scale) {\n\t\t\treturn zoom.scale(zoom.zoomerStyle, scale);\n\t\t};\n\n\t\t// Gestures\n\t\tvar scale = 1,\n\t\t\tcurrentScale = 1,\n\t\t\tisScaling = false,\n\t\t\tisGesturing = false;\n\t\tzoom.onPinchstart = function(e) {\n\t\t\tisGesturing = true;\n\t\t};\n\t\tzoom.onPinch = function(e) {\n\t\t\tif (!isScaling) {\n\t\t\t\tzoom.zoomerTransition(0);\n\t\t\t\tisScaling = true;\n\t\t\t}\n\t\t\tscale = (e.detail ? e.detail.scale : e.scale) * currentScale;\n\t\t\tif (scale > zoom.options.maxZoom) {\n\t\t\t\tscale = zoom.options.maxZoom - 1 + Math.pow((scale - zoom.options.maxZoom + 1), 0.5);\n\t\t\t}\n\t\t\tif (scale < zoom.options.minZoom) {\n\t\t\t\tscale = zoom.options.minZoom + 1 - Math.pow((zoom.options.minZoom - scale + 1), 0.5);\n\t\t\t}\n\t\t\tzoom.zoomerTransform(scale);\n\t\t};\n\t\tzoom.onPinchend = function(e) {\n\t\t\tscale = Math.max(Math.min(scale, zoom.options.maxZoom), zoom.options.minZoom);\n\t\t\tzoom.zoomerTransition(zoom.options.speed).zoomerTransform(scale);\n\t\t\tcurrentScale = scale;\n\t\t\tisScaling = false;\n\t\t};\n\t\tzoom.setZoom = function(newScale) {\n\t\t\tscale = currentScale = newScale;\n\t\t\tzoom.scrollerTransition(zoom.options.speed).scrollerTransform(0, 0);\n\t\t\tzoom.zoomerTransition(zoom.options.speed).zoomerTransform(scale);\n\t\t};\n\t\tzoom.toggleZoom = function(position, speed) {\n\t\t\tif (typeof position === 'number') {\n\t\t\t\tspeed = position;\n\t\t\t\tposition = undefined;\n\t\t\t}\n\t\t\tspeed = typeof speed === 'undefined' ? zoom.options.speed : speed;\n\t\t\tif (scale && scale !== 1) {\n\t\t\t\tscale = currentScale = 1;\n\t\t\t\tzoom.scrollerTransition(speed).scrollerTransform(0, 0);\n\t\t\t} else {\n\t\t\t\tscale = currentScale = zoom.options.maxZoom;\n\t\t\t\tif (position) {\n\t\t\t\t\tvar offset = $.offset(zoom.zoomer);\n\t\t\t\t\tvar top = offset.top;\n\t\t\t\t\tvar left = offset.left;\n\t\t\t\t\tvar offsetX = (position.x - left) * scale;\n\t\t\t\t\tvar offsetY = (position.y - top) * scale;\n\t\t\t\t\tthis._cal();\n\t\t\t\t\tif (offsetX >= imageMaxX && offsetX <= (imageMaxX + wrapperWidth)) { //center\n\t\t\t\t\t\toffsetX = imageMaxX - offsetX + wrapperWidth / 2;\n\t\t\t\t\t} else if (offsetX < imageMaxX) { //left\n\t\t\t\t\t\toffsetX = imageMaxX - offsetX + wrapperWidth / 2;\n\t\t\t\t\t} else if (offsetX > (imageMaxX + wrapperWidth)) { //right\n\t\t\t\t\t\toffsetX = imageMaxX + wrapperWidth - offsetX - wrapperWidth / 2;\n\t\t\t\t\t}\n\t\t\t\t\tif (offsetY >= imageMaxY && offsetY <= (imageMaxY + wrapperHeight)) { //middle\n\t\t\t\t\t\toffsetY = imageMaxY - offsetY + wrapperHeight / 2;\n\t\t\t\t\t} else if (offsetY < imageMaxY) { //top\n\t\t\t\t\t\toffsetY = imageMaxY - offsetY + wrapperHeight / 2;\n\t\t\t\t\t} else if (offsetY > (imageMaxY + wrapperHeight)) { //bottom\n\t\t\t\t\t\toffsetY = imageMaxY + wrapperHeight - offsetY - wrapperHeight / 2;\n\t\t\t\t\t}\n\t\t\t\t\toffsetX = Math.min(Math.max(offsetX, imageMinX), imageMaxX);\n\t\t\t\t\toffsetY = Math.min(Math.max(offsetY, imageMinY), imageMaxY);\n\t\t\t\t\tzoom.scrollerTransition(speed).scrollerTransform(offsetX, offsetY);\n\t\t\t\t} else {\n\t\t\t\t\tzoom.scrollerTransition(speed).scrollerTransform(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tzoom.zoomerTransition(speed).zoomerTransform(scale);\n\t\t};\n\n\t\tzoom._cal = function() {\n\t\t\twrapperWidth = zoom.wrapper.offsetWidth;\n\t\t\twrapperHeight = zoom.wrapper.offsetHeight;\n\t\t\timageWidth = zoom.zoomer.offsetWidth;\n\t\t\timageHeight = zoom.zoomer.offsetHeight;\n\t\t\tvar scaledWidth = imageWidth * scale;\n\t\t\tvar scaledHeight = imageHeight * scale;\n\t\t\timageMinX = Math.min((wrapperWidth / 2 - scaledWidth / 2), 0);\n\t\t\timageMaxX = -imageMinX;\n\t\t\timageMinY = Math.min((wrapperHeight / 2 - scaledHeight / 2), 0);\n\t\t\timageMaxY = -imageMinY;\n\t\t};\n\n\t\tvar wrapperWidth, wrapperHeight, imageIsTouched, imageIsMoved, imageCurrentX, imageCurrentY, imageMinX, imageMinY, imageMaxX, imageMaxY, imageWidth, imageHeight, imageTouchesStart = {},\n\t\t\timageTouchesCurrent = {},\n\t\t\timageStartX, imageStartY, velocityPrevPositionX, velocityPrevTime, velocityX, velocityPrevPositionY, velocityY;\n\n\t\tzoom.onTouchstart = function(e) {\n\t\t\te.preventDefault();\n\t\t\timageIsTouched = true;\n\t\t\timageTouchesStart.x = e.type === $.EVENT_START ? e.targetTouches[0].pageX : e.pageX;\n\t\t\timageTouchesStart.y = e.type === $.EVENT_START ? e.targetTouches[0].pageY : e.pageY;\n\t\t};\n\t\tzoom.onTouchMove = function(e) {\n\t\t\te.preventDefault();\n\t\t\tif (!imageIsTouched) return;\n\t\t\tif (!imageIsMoved) {\n\t\t\t\twrapperWidth = zoom.wrapper.offsetWidth;\n\t\t\t\twrapperHeight = zoom.wrapper.offsetHeight;\n\t\t\t\timageWidth = zoom.zoomer.offsetWidth;\n\t\t\t\timageHeight = zoom.zoomer.offsetHeight;\n\t\t\t\tvar translate = $.parseTranslateMatrix($.getStyles(zoom.scroller, 'webkitTransform'));\n\t\t\t\timageStartX = translate.x || 0;\n\t\t\t\timageStartY = translate.y || 0;\n\t\t\t\tzoom.scrollerTransition(0);\n\t\t\t}\n\t\t\tvar scaledWidth = imageWidth * scale;\n\t\t\tvar scaledHeight = imageHeight * scale;\n\n\t\t\tif (scaledWidth < wrapperWidth && scaledHeight < wrapperHeight) return;\n\n\t\t\timageMinX = Math.min((wrapperWidth / 2 - scaledWidth / 2), 0);\n\t\t\timageMaxX = -imageMinX;\n\t\t\timageMinY = Math.min((wrapperHeight / 2 - scaledHeight / 2), 0);\n\t\t\timageMaxY = -imageMinY;\n\n\t\t\timageTouchesCurrent.x = e.type === $.EVENT_MOVE ? e.targetTouches[0].pageX : e.pageX;\n\t\t\timageTouchesCurrent.y = e.type === $.EVENT_MOVE ? e.targetTouches[0].pageY : e.pageY;\n\n\t\t\tif (!imageIsMoved && !isScaling) {\n\t\t\t\t//\t\t\t\tif (Math.abs(imageTouchesCurrent.y - imageTouchesStart.y) < Math.abs(imageTouchesCurrent.x - imageTouchesStart.x)) {\n\t\t\t\t//TODO 此处需要优化，当遇到长图，需要上下滚动时，下列判断会导致滚动不流畅\n\t\t\t\tif (\n\t\t\t\t\t(Math.floor(imageMinX) === Math.floor(imageStartX) && imageTouchesCurrent.x < imageTouchesStart.x) ||\n\t\t\t\t\t(Math.floor(imageMaxX) === Math.floor(imageStartX) && imageTouchesCurrent.x > imageTouchesStart.x)\n\t\t\t\t) {\n\t\t\t\t\timageIsTouched = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//\t\t\t\t}\n\t\t\t}\n\t\t\timageIsMoved = true;\n\t\t\timageCurrentX = imageTouchesCurrent.x - imageTouchesStart.x + imageStartX;\n\t\t\timageCurrentY = imageTouchesCurrent.y - imageTouchesStart.y + imageStartY;\n\n\t\t\tif (imageCurrentX < imageMinX) {\n\t\t\t\timageCurrentX = imageMinX + 1 - Math.pow((imageMinX - imageCurrentX + 1), 0.8);\n\t\t\t}\n\t\t\tif (imageCurrentX > imageMaxX) {\n\t\t\t\timageCurrentX = imageMaxX - 1 + Math.pow((imageCurrentX - imageMaxX + 1), 0.8);\n\t\t\t}\n\n\t\t\tif (imageCurrentY < imageMinY) {\n\t\t\t\timageCurrentY = imageMinY + 1 - Math.pow((imageMinY - imageCurrentY + 1), 0.8);\n\t\t\t}\n\t\t\tif (imageCurrentY > imageMaxY) {\n\t\t\t\timageCurrentY = imageMaxY - 1 + Math.pow((imageCurrentY - imageMaxY + 1), 0.8);\n\t\t\t}\n\n\t\t\t//Velocity\n\t\t\tif (!velocityPrevPositionX) velocityPrevPositionX = imageTouchesCurrent.x;\n\t\t\tif (!velocityPrevPositionY) velocityPrevPositionY = imageTouchesCurrent.y;\n\t\t\tif (!velocityPrevTime) velocityPrevTime = $.now();\n\t\t\tvelocityX = (imageTouchesCurrent.x - velocityPrevPositionX) / ($.now() - velocityPrevTime) / 2;\n\t\t\tvelocityY = (imageTouchesCurrent.y - velocityPrevPositionY) / ($.now() - velocityPrevTime) / 2;\n\t\t\tif (Math.abs(imageTouchesCurrent.x - velocityPrevPositionX) < 2) velocityX = 0;\n\t\t\tif (Math.abs(imageTouchesCurrent.y - velocityPrevPositionY) < 2) velocityY = 0;\n\t\t\tvelocityPrevPositionX = imageTouchesCurrent.x;\n\t\t\tvelocityPrevPositionY = imageTouchesCurrent.y;\n\t\t\tvelocityPrevTime = $.now();\n\n\t\t\tzoom.scrollerTransform(imageCurrentX, imageCurrentY);\n\t\t};\n\t\tzoom.onTouchEnd = function(e) {\n\t\t\tif (!e.touches.length) {\n\t\t\t\tisGesturing = false;\n\t\t\t}\n\t\t\tif (!imageIsTouched || !imageIsMoved) {\n\t\t\t\timageIsTouched = false;\n\t\t\t\timageIsMoved = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\timageIsTouched = false;\n\t\t\timageIsMoved = false;\n\t\t\tvar momentumDurationX = 300;\n\t\t\tvar momentumDurationY = 300;\n\t\t\tvar momentumDistanceX = velocityX * momentumDurationX;\n\t\t\tvar newPositionX = imageCurrentX + momentumDistanceX;\n\t\t\tvar momentumDistanceY = velocityY * momentumDurationY;\n\t\t\tvar newPositionY = imageCurrentY + momentumDistanceY;\n\n\t\t\tif (velocityX !== 0) momentumDurationX = Math.abs((newPositionX - imageCurrentX) / velocityX);\n\t\t\tif (velocityY !== 0) momentumDurationY = Math.abs((newPositionY - imageCurrentY) / velocityY);\n\t\t\tvar momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n\n\t\t\timageCurrentX = newPositionX;\n\t\t\timageCurrentY = newPositionY;\n\n\t\t\tvar scaledWidth = imageWidth * scale;\n\t\t\tvar scaledHeight = imageHeight * scale;\n\t\t\timageMinX = Math.min((wrapperWidth / 2 - scaledWidth / 2), 0);\n\t\t\timageMaxX = -imageMinX;\n\t\t\timageMinY = Math.min((wrapperHeight / 2 - scaledHeight / 2), 0);\n\t\t\timageMaxY = -imageMinY;\n\t\t\timageCurrentX = Math.max(Math.min(imageCurrentX, imageMaxX), imageMinX);\n\t\t\timageCurrentY = Math.max(Math.min(imageCurrentY, imageMaxY), imageMinY);\n\n\t\t\tzoom.scrollerTransition(momentumDuration).scrollerTransform(imageCurrentX, imageCurrentY);\n\t\t};\n\t\tzoom.destroy = function() {\n\t\t\tzoom.initEvents(true); //detach\n\t\t\tdelete $.data[zoom.wrapper.getAttribute('data-zoomer')];\n\t\t\tzoom.wrapper.setAttribute('data-zoomer', '');\n\t\t}\n\t\tzoom.init();\n\t\treturn zoom;\n\t};\n\t$.Zoom.defaults = {\n\t\tspeed: 300,\n\t\tmaxZoom: 3,\n\t\tminZoom: 1,\n\t};\n\t$.fn.zoom = function(options) {\n\t\tvar zoomApis = [];\n\t\tthis.each(function() {\n\t\t\tvar zoomApi = null;\n\t\t\tvar self = this;\n\t\t\tvar id = self.getAttribute('data-zoomer');\n\t\t\tif (!id) {\n\t\t\t\tid = ++$.uuid;\n\t\t\t\t$.data[id] = zoomApi = new $.Zoom(self, options);\n\t\t\t\tself.setAttribute('data-zoomer', id);\n\t\t\t} else {\n\t\t\t\tzoomApi = $.data[id];\n\t\t\t}\n\t\t\tzoomApis.push(zoomApi);\n\t\t});\n\t\treturn zoomApis.length === 1 ? zoomApis[0] : zoomApis;\n\t};\n})(mui, window);"]}]}